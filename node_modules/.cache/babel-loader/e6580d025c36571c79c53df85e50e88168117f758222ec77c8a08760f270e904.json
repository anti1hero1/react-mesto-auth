{"ast":null,"code":"import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import useFormValidation from\"../utils/useFormValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar,isLoading=_ref.isLoading;var input=React.useRef();var _useFormValidation=useFormValidation(),reset=_useFormValidation.reset,values=_useFormValidation.values,errors=_useFormValidation.errors,isValid=_useFormValidation.isValid,isInputValid=_useFormValidation.isInputValid,handleChange=_useFormValidation.handleChange;function resetForClose(){onClose();reset();}function handleSubmit(evt){evt.preventDefault();onUpdateAvatar({avatar:input.current.value},reset);}return/*#__PURE__*/_jsxs(PopupWithForm,{buttonText:isLoading?\"Сохранение...\":\"Сохранить\",name:\"avatar\",title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0442\\u0430\\u0440\",isOpen:isOpen,isValid:isValid,onClose:resetForClose,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{ref:input,id:\"avatar\",type:\"url\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0443\",name:\"avatar\",className:\"popup__input \".concat(isInputValid.avatar===undefined||isInputValid.avatar?\"\":\"popup__input-error\"),required:true,onChange:handleChange,value:values.avatar?values.avatar:\"\"}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__error input-avatar-error popup__error_visible\",children:errors.avatar})]});}export default EditAvatarPopup;","map":{"version":3,"names":["React","PopupWithForm","useFormValidation","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","isLoading","input","useRef","_useFormValidation","reset","values","errors","isValid","isInputValid","handleChange","resetForClose","handleSubmit","evt","preventDefault","avatar","current","value","buttonText","name","title","onSubmit","children","ref","id","type","placeholder","className","concat","undefined","required","onChange"],"sources":["/Users/anti1hero/Desktop/dev/react-mesto-auth/src/components/EditAvatarPopup.jsx"],"sourcesContent":["import React from \"react\";\n\nimport PopupWithForm from \"./PopupWithForm\";\nimport useFormValidation from \"../utils/useFormValidation\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n  const input = React.useRef();\n  const { reset, values, errors, isValid, isInputValid, handleChange } =\n    useFormValidation();\n\n  function resetForClose() {\n    onClose();\n    reset();\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({ avatar: input.current.value }, reset);\n  }\n\n  return (\n    <PopupWithForm\n      buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      name=\"avatar\"\n      title=\"Обновить автар\"\n      isOpen={isOpen}\n      isValid={isValid}\n      onClose={resetForClose}\n      onSubmit={handleSubmit}>\n      <input\n        ref={input}\n        id=\"avatar\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"avatar\"\n        className={`popup__input ${\n          isInputValid.avatar === undefined || isInputValid.avatar\n            ? \"\"\n            : `popup__input-error`\n        }`}\n        required\n        onChange={handleChange}\n        value={values.avatar ? values.avatar : \"\"}\n      />\n      <span className=\"popup__error input-avatar-error popup__error_visible\">\n        {errors.avatar}\n      </span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,iBAAiB,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3D,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAiD,IAA9C,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CAAEC,SAAS,CAAAJ,IAAA,CAATI,SAAS,CACnE,GAAM,CAAAC,KAAK,CAAGb,KAAK,CAACc,MAAM,CAAC,CAAC,CAC5B,IAAAC,kBAAA,CACEb,iBAAiB,CAAC,CAAC,CADbc,KAAK,CAAAD,kBAAA,CAALC,KAAK,CAAEC,MAAM,CAAAF,kBAAA,CAANE,MAAM,CAAEC,MAAM,CAAAH,kBAAA,CAANG,MAAM,CAAEC,OAAO,CAAAJ,kBAAA,CAAPI,OAAO,CAAEC,YAAY,CAAAL,kBAAA,CAAZK,YAAY,CAAEC,YAAY,CAAAN,kBAAA,CAAZM,YAAY,CAGlE,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvBZ,OAAO,CAAC,CAAC,CACTM,KAAK,CAAC,CAAC,CACT,CAEA,QAAS,CAAAO,YAAYA,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpBd,cAAc,CAAC,CAAEe,MAAM,CAAEb,KAAK,CAACc,OAAO,CAACC,KAAM,CAAC,CAAEZ,KAAK,CAAC,CACxD,CAEA,mBACEV,KAAA,CAACL,aAAa,EACZ4B,UAAU,CAAEjB,SAAS,CAAG,eAAe,CAAG,WAAY,CACtDkB,IAAI,CAAC,QAAQ,CACbC,KAAK,CAAC,iFAAgB,CACtBtB,MAAM,CAAEA,MAAO,CACfU,OAAO,CAAEA,OAAQ,CACjBT,OAAO,CAAEY,aAAc,CACvBU,QAAQ,CAAET,YAAa,CAAAU,QAAA,eACvB7B,IAAA,UACE8B,GAAG,CAAErB,KAAM,CACXsB,EAAE,CAAC,QAAQ,CACXC,IAAI,CAAC,KAAK,CACVC,WAAW,CAAC,oGAAoB,CAChCP,IAAI,CAAC,QAAQ,CACbQ,SAAS,iBAAAC,MAAA,CACPnB,YAAY,CAACM,MAAM,GAAKc,SAAS,EAAIpB,YAAY,CAACM,MAAM,CACpD,EAAE,qBACkB,CACvB,CACHe,QAAQ,MACRC,QAAQ,CAAErB,YAAa,CACvBO,KAAK,CAAEX,MAAM,CAACS,MAAM,CAAGT,MAAM,CAACS,MAAM,CAAG,EAAG,CAC3C,CAAC,cACFtB,IAAA,SAAMkC,SAAS,CAAC,sDAAsD,CAAAL,QAAA,CACnEf,MAAM,CAACQ,MAAM,CACV,CAAC,EACM,CAAC,CAEpB,CAEA,cAAe,CAAAnB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}