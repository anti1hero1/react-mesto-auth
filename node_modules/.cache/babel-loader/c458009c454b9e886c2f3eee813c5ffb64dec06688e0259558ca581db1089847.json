{"ast":null,"code":"import _slicedToArray from\"/Users/anti1hero/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import api from\"../utils/api\";import Card from\"./Card\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,onCardClick=_ref.onCardClick;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];useEffect(function(){Promise.all([api.getUserInfo(),api.getCards()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),user=_ref3[0],cards=_ref3[1];setUserName(user.name);setUserDescription(user.about);setUserAvatar(user.avatar);cards.forEach(function(data){return data.myid=user._id;});setCards(cards);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",\"aria-label\":\"\\u041F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__image\",src:userAvatar,alt:\"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440\"}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__avatar-button\",type:\"button\",onClick:onEditAvatar}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__info-title\",children:userName}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__edit-button\",type:\"button\",onClick:onEditProfile}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__info-subtitle\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{className:\"profile__add-button\",type:\"button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",\"aria-label\":\"\\u041A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0438 \\u043C\\u0435\\u0441\\u0442\",children:cards.map(function(data){return/*#__PURE__*/_jsx(\"div\",{className:\"element\",children:/*#__PURE__*/_jsx(Card,{card:data,onCardClick:onCardClick})},data._id);})})]});}export default Main;","map":{"version":3,"names":["React","useEffect","useState","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditAvatar","onEditProfile","onAddPlace","onCardClick","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","userDescription","setUserDescription","_useState5","_useState6","userAvatar","setUserAvatar","_useState7","_useState8","cards","setCards","Promise","all","getUserInfo","getCards","then","_ref2","_ref3","user","name","about","avatar","forEach","data","myid","_id","className","children","src","alt","type","onClick","map","card"],"sources":["/Users/anti1hero/Desktop/dev/mesto-react/src/components/Main.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport api from \"../utils/api\";\nimport Card from \"./Card\";\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick }) {\n  const [userName, setUserName] = useState(\"\");\n  const [userDescription, setUserDescription] = useState(\"\");\n  const [userAvatar, setUserAvatar] = useState(\"\");\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getCards()]).then(([user, cards]) => {\n      setUserName(user.name);\n      setUserDescription(user.about);\n      setUserAvatar(user.avatar);\n      cards.forEach((data) => (data.myid = user._id));\n      setCards(cards);\n    });\n  }, []);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\" aria-label=\"Профиль\">\n        <img className=\"profile__image\" src={userAvatar} alt=\"Аватар\" />\n        <button\n          className=\"profile__avatar-button\"\n          type=\"button\"\n          onClick={onEditAvatar}\n        />\n        <div className=\"profile__info\">\n          <h1 className=\"profile__info-title\">{userName}</h1>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            onClick={onEditProfile}\n          />\n          <p className=\"profile__info-subtitle\">{userDescription}</p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={onAddPlace}\n        />\n      </section>\n      <section className=\"elements\" aria-label=\"Карточки мест\">\n        {cards.map((data) => {\n          return (\n            <div className=\"element\" key={data._id}>\n              <Card card={data} onCardClick={onCardClick} />\n            </div>\n          );\n        })}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}